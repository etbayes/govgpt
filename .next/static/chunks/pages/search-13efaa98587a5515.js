(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{8266:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(7415)}])},7415:function(e,s,t){"use strict";t.r(s);var a=t(5893),l=t(7294),o=t(5593),r=t(9834),n=t(6869),i=t(9684),c=t(3523),u=t(5117),d=t(9845),h=t(3461),m=t(7511),g=t(7650),p=t(6154),x=t(7460),y=t.n(x);let f=e=>{let{setConversation:s,setIsInitialInputGiven:t}=e,[x,f]=(0,l.useState)([]),[C,j]=(0,l.useState)(""),[w,b]=(0,l.useState)("English"),D=async e=>{s([{message:e,speaker:"user"}]),t(!0);try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});await s.json()}catch(e){console.error("Error submitting initial message:",e)}};(0,l.useEffect)(()=>{let e=async()=>{let e=await p.Z.get("Cymraeg"===w?"https://docs.google.com/spreadsheets/d/e/2PACX-1vSqKi1YOqksJOO3U07eGgNKU2P62-QjGmY4wzwI6vnUp8sjtU1CvnHcYu3PD_BVDfIjZUCuouNjsd9L/pub?output=csv":"https://docs.google.com/spreadsheets/d/e/2PACX-1vRYnQg-krksesMIkfe-VcoJMS3C92t99MgvjklMkz_5VRLMHaRfNPzXcjwUg3hL7-4E77C-8V1-8HM-/pub?output=csv"),s=y().parse(e.data,{header:!0,dynamicTyping:!0});f(s.data)};e()},[w]);let v=(e,s)=>{console.log(e,s)},N=e=>{console.log(e)},S=e=>{j(e.name)},k=e=>{j(e),D(e)},z=()=>{console.log("Focused")},E=e=>{e.preventDefault(),D(C)},P=e=>e&&e.name?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{style:{display:"block",textAlign:"left"},children:e.name})}):null;return(0,a.jsxs)("div",{id:"homepage",className:"flex flex-col h-screen items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center flex-grow",children:["Cymraeg"===w?(0,a.jsx)(o.E,{className:"pb-6",height:50,fit:"contain",src:"https://i.postimg.cc/bJhZ6j53/Frame-4.png"}):(0,a.jsx)(o.E,{className:"pb-6",height:50,fit:"contain",src:"https://i.postimg.cc/xTngTWcK/Group-7.png"}),(0,a.jsxs)("div",{className:"flex mb-2 px-28 w-full",children:[" ",(0,a.jsx)("form",{id:"searchbar",className:"relative flex-grow pr-3",onSubmit:E,children:(0,a.jsx)(g.ReactSearchAutocomplete,{className:"autocomplete-dropdown",items:x,onSearch:v,onHover:N,onSelect:S,onFocus:z,autoFocus:!0,formatResult:P,maxResults:7,placeholder:"Cymraeg"===w?"Gofyn cwestiwn...":"Ask a question...",showNoResults:!1,showIcon:!1,styling:{borderRadius:"5px",fontSize:"14px",height:"38px"}})}),(0,a.jsx)(r.A,{id:"sendbutton",className:"border border-gray-300 rounded h-10 w-10",type:"submit",children:(0,a.jsx)(h.Z,{size:"1.125rem"})})]}),(0,a.jsxs)("div",{id:"prompts",className:"w-full flex gap-3 mb-2 pt-2 px-40 items-center justify-center gap-3",children:[" ",(0,a.jsx)(m.Z,{size:"1.125rem",style:{color:"#697075"}}),(0,a.jsx)(n.z,{variant:"outline",color:"gray",radius:"xl",compact:!0,style:{borderColor:"#D8DBDF",color:"#697075",fontWeight:"normal"},onClick:()=>k("Cymraeg"===w?"Sut alla i gael cymorth costau byw?":"How can I get cost of living support?"),children:"Cymraeg"===w?"Costau byw":"Cost of living"}),(0,a.jsx)(n.z,{variant:"outline",color:"gray",radius:"xl",compact:!0,style:{borderColor:"#D8DBDF",color:"#697075",fontWeight:"normal"},onClick:()=>k("Cymraeg"===w?"Pa help alla i ei gael gyda fy miliau ynni?":"What help can I get with my energy bills?"),children:"Cymraeg"===w?"Biliau ynni":"Energy bills"}),(0,a.jsx)(n.z,{variant:"outline",color:"gray",radius:"xl",compact:!0,style:{borderColor:"#D8DBDF",color:"#697075",fontWeight:"normal"},onClick:()=>k("Cymraeg"===w?"Sut mae cyflwyno hunanasesiad treth?":"How do I submit a tax self assessment?"),children:"Cymraeg"===w?"Hunanasesiad treth":"Tax self assessment"}),(0,a.jsx)(n.z,{variant:"outline",color:"gray",radius:"xl",compact:!0,style:{borderColor:"#D8DBDF",color:"#697075",fontWeight:"normal"},onClick:()=>k("Cymraeg"===w?"Sut mae gwneud cais am basbort?":"How do I apply for a passport?"),children:"Cymraeg"===w?"Pasbort":"Passport"})]}),(0,a.jsxs)("div",{id:"language",className:"w-full flex gap-3 pt-3 px-40 items-center justify-center gap-3",children:[" ",(0,a.jsx)(i.s,{data:[{value:"English",label:(0,a.jsxs)(c.M,{children:[(0,a.jsx)(u.x,{children:"\uD83C\uDDEC\uD83C\uDDE7"}),(0,a.jsx)(d.x,{ml:6,sx:{fontSize:"0.75rem"},children:"English"})]})},{value:"Cymraeg",label:(0,a.jsxs)(c.M,{children:[(0,a.jsx)(u.x,{children:"\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73\uDB40\uDC7F"}),(0,a.jsx)(d.x,{ml:6,sx:{fontSize:"0.75rem"},children:"Cymraeg"})]})}],onChange:b})]})]}),(0,a.jsxs)("div",{id:"bottom",className:"w-full h-12 flex items-center justify-center gap-3",children:[(0,a.jsx)(u.x,{fz:"xs",style:{color:"#697075"},children:"Cymraeg"===w?"Mae GOVGPT yn arbrawf":"GOVGPT is an experiment"}),(0,a.jsx)("p",{style:{fontSize:"11px",color:"#697075"},children:"|"}),(0,a.jsxs)(u.x,{fz:"xs",style:{color:"#697075"},children:["Cymraeg"===w?"Cynnwys a gyhoeddwyd o dan y":"Content published under the"," ",(0,a.jsx)("a",{href:"https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",style:{textDecoration:"underline"},children:"Open Government Licence v3.0"}),"."]}),(0,a.jsx)("p",{style:{fontSize:"11px",color:"#697075"},children:"|"}),(0,a.jsxs)(u.x,{fz:"xs",style:{color:"#697075"},children:["Cymraeg"===w?"Adeiladwyd gyda ❤ yn \xf4l":"Built with ❤ by","  ",(0,a.jsx)("a",{href:"https://www.general-purpose.io",style:{textDecoration:"underline"},children:"General Purpose"})]})]})]})};s.default=f}},function(e){e.O(0,[65,774,888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);